\documentclass{article}
\usepackage{booktabs}
\usepackage{color}

\setlength\parindent{0pt}

\begin{document}

\section{Nu}

1 \texttt{variants} tabel met arrays (binary blob in SQLite, array columns in PostgreSQL).\\

\texttt{SELECT * \\FROM variants \\WHERE (gts.brecht == hom\_ref \&\& gts.aaron == hom\_alt)}
\begin{table}[h]
\begin{tabular}{@{}|l|l|l|l|l|l|l|@{}}
\toprule
variant\_id & ref & alt & \ldots & gts & gt\_types & \ldots \\ \bottomrule
\end{tabular}
\end{table}

\section{Alternatieven}

\subsection{Super-\texttt{variants}-tabel}

1 \texttt{variants} tabel zonder array columns, met kolom voor elke \texttt{individual}.\\

\texttt{SELECT * \\
FROM variants \\
WHERE brecht == hom\_ref \&\& aaron == hom\_alt}
\begin{table}[!htbp]
\begin{tabular}{@{}|l|l|l|l|l|l|l|@{}}
\toprule
variant\_id & ref & alt & \ldots & aaron & brecht & \ldots \\ \bottomrule
\end{tabular}
\end{table}

\subsection{\texttt{individual} tabellen} 

1 \texttt{variants} tabel zonder array columns.

\begin{table}[!htbp]
\begin{tabular}{@{}|l|l|l|l|@{}}
\toprule
variant\_id & ref & alt & \ldots \\ \bottomrule
\end{tabular}
\end{table}

1 \texttt{individual} tabel per individu met rij voor elke \texttt{variant}

\begin{table}[!htbp]
\begin{tabular}{@{}|l|l|l|l|@{}}
\toprule
variant\_id & sample & genotype & \ldots \\ \bottomrule
\end{tabular}
\end{table}

\begin{tabbing}
\texttt{SELECT *}
\\\texttt{FROM aaron JOIN (}\=\texttt{SELECT variant\_id}
\\ \> \texttt{FROM (brecht JOIN variants)}
\\ \> \texttt{WHERE hom\_ref) }
\\ \texttt{WHERE hom\_alt }
\end{tabbing}

\newpage
\subsection{\texttt{genotypes} tabel}

1 \texttt{variants} tabel zonder array columns

\begin{table}[!htbp]
\begin{tabular}{@{}|l|l|l|l|@{}}
\toprule
variant\_id & ref & alt & \ldots \\ \bottomrule
\end{tabular}
\end{table}

1 \texttt{genotypes} tabel met rij voor elke \texttt{(variant, sample, genotype)}

\begin{table}[!htbp]
\begin{tabular}{@{}|l|l|l|l|l|@{}}
\toprule
variant\_id & sample & genotype & \color{red} individual\_id & \ldots \\ \bottomrule
\end{tabular}
\end{table}

Query onmogelijk zonder \texttt{individual\_id}. Anders:\\

\begin{tabbing}
\texttt{SELECT *} 
\\\texttt{FROM ((}\=\texttt{SELECT variant\_id }
\\ \> \texttt{FROM (variants JOIN (}\=\texttt{SELECT * }
\\ \>\>\texttt{FROM genotypes }
\\ \>\>\texttt{WHERE individual\_id == brecht)) }
\\ \> \texttt{WHERE hom\_ref) JOIN (}\=\= \texttt{SELECT * }
					\\ \>\>\> \texttt{FROM genotypes }
					\\ \>\>\> \texttt{WHERE individual\_id == aaron))}
\\ \texttt{WHERE hom\_alt}

\end{tabbing}


\end{document}

